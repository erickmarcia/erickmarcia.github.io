<!doctype html> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=highlight.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.png rel=icon type=image/png> <link href=client/main.2938205786.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title> Api Rest: Crear una Api Rest con Asp.Net MVC y C#</title><meta content="" name=description><link href=https://erickmarcia.github.io/blog/Crear-una-Api-Rest-con-AspNet-MVC-y-CSharp rel=canonical><meta content=summary_large_image name=twitter:card><meta content=@Emarcia14 name=twitter:site><meta content=@Emarcia14 name=twitter:creator><meta content="Api Rest: Crear una Api Rest con Asp.Net MVC y C#" name=twitter:title><meta content="" name=twitter:description><meta content="https://erickmarcia.github.io/undefined" name=twitter:image><meta content="Api Rest: Crear una Api Rest con Asp.Net MVC y C#" property=og:title><meta content=erickmarcia.github.io property=og:site_name><meta content="" property=og:description><meta content="https://erickmarcia.github.io/undefined" property=og:image><meta content=https://erickmarcia.github.io/blog/Crear-una-Api-Rest-con-AspNet-MVC-y-CSharp property=og:url><meta content=es_ES property=og:locale><meta content=article property=og:type><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <div class="svelte-1eajn4l layout"> <header> <div class="svelte-fic7qq header"> <div class=nav> <nav class=svelte-lqnt> <a href=. class=svelte-lqnt>home</a> <a href=about class=svelte-lqnt>about</a> <a href=blog class="svelte-lqnt selected" rel=prefetch>blog</a> <a href=work-experience class=svelte-lqnt rel=prefetch>Experiencia profesional </a> </nav> </div> <div class="svelte-fic7qq flex inner-header"> <section class=home_banner_area wfd-id=242> <div class=banner_inner wfd-id=243> <div class=container wfd-id=244> <div class="align-items-center justify-content-between row" wfd-id=245> <div class=col-lg-6 wfd-id=248> <div class=banner_content wfd-id=249> <h3>¡Hola!</h3> <h1>Soy Erick Marcia</h1> <h5>Diseñador & Desarrollador de Software</h5> <div class="svelte-3asnh3 my-5 social_icons" wfd-id=251> <a href=https://twitter.com/Emarcia14 target=_blank class=svelte-3asnh3> <svg class="feather feather-twitter twitter-icon" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=24px stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24px><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg> </a> <a href=https://github.com/erickmarcia target=_blank class=svelte-3asnh3> <svg class="feather Github-icon feather-github" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=24px stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24px><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg> </a> <a href=https://gitlab.com/mar_cia14 target=_blank class=svelte-3asnh3> <svg class="feather Gitlab-icon feather-gitlab" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=24px stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24px><path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path></svg> </a> </div> </div> </div> </div> </div> </div> </section> </div> <div> <svg class="svelte-fic7qq waves" viewBox="0 24 150 28" xmlns=http://www.w3.org/2000/svg preserveAspectRatio=none shape-rendering=auto xmlns:xlink=http://www.w3.org/1999/xlink> <defs> <path d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" id=gentle-wave></path> </defs> <g class="svelte-fic7qq parallax"> <use class=svelte-fic7qq fill=rgba(255,255,255,0.7 x=48 xlink:href=#gentle-wave y=0></use> <use class=svelte-fic7qq fill=rgba(255,255,255,0.5) x=48 xlink:href=#gentle-wave y=3></use> <use class=svelte-fic7qq fill=rgba(255,255,255,0.3) x=48 xlink:href=#gentle-wave y=5></use> <use class=svelte-fic7qq fill=#fff x=48 xlink:href=#gentle-wave y=7></use> </g> </svg> </div> </div> </header> <main class=svelte-1eajn4l> <div class="svelte-bquwsq Post-container"> <div class="svelte-bquwsq Post"> <div class="svelte-bquwsq Post-image" style=background-image:url(media/blog/CSharp/ASP-NET/RESTAPI/Banner.jpg)> <div class="svelte-bquwsq Post-title"> <h2 class=svelte-bquwsq>Api Rest: Crear una Api Rest con Asp.Net MVC y C#</h2> <p class=svelte-bquwsq> <time class=svelte-bquwsq datetime=2021-06-05T23:52:00.000+00:00> <svg class="feather feather-calendar" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=20px stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20px><rect height=18 rx=2 ry=2 width=18 x=3 y=4></rect><line x1=16 x2=16 y1=2 y2=6></line><line x1=8 x2=8 y1=2 y2=6></line><line x1=3 x2=21 y1=10 y2=10></line></svg>   05 de junio de 2021   </time> <span class=svelte-bquwsq> <svg class="feather feather-book-open" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=20px stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20px><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>   13 Min </span> </p> </div> </div> <div class="svelte-bquwsq Post-content"> <article class=content> <figcaption>Ilustración Gracias a <a href=https://www.freepik.com/free-photos-vectors/banner target=_blank>upklyak - www.freepik.com</a></figcaption> <h2 id=¿qué-es-una-api-rest>¿Qué es una API Rest?</h2> <p>Una API REST es una arquitectura de Software BackEnd que se apoya en el estándar HTTP, que permite crear aplicaciones y servicios que pueden ser usados desde cualquier dispositivo o cliente que utilice HTTP.</p> <p>Los datos obtenidos pueden ser XML o JSON que suele ser más rápido.</p> <p>Las operaciones más importantes es el denominado <strong>CRUD (Crear, Consultar, Modificar, Eliminar)</strong>):</p> <ul> <li>GET (Leer y consultar los registros)</li> <li>POST (Crear nuevos registros)</li> <li>PUT (Editar y modificar los registros)</li> <li>DELETE (Eliminar los registros)</li> </ul> <p>La principal ventaja de las API REST es que podemos desarrollar una API en el backend y utilizarla en cualquier dispositivo, ahorrando así mucho tiempo de desarrollo, estas API son capaces de contestas las llamadas desde una serie de URLs en formato JSON y también pueden recibir datos en formato JSON para gestionar la información que le enviemos.</p> <p>Tratere que al finalizar este artículo puedas comprender de forma más clara este concepto.</p> <p>Para este ejemplo necesitaremos tener instalado lo siguiente:</p> <ul> <li>Visual Studio 2019</li> <li>Postman</li> <li>Base de Datos (Para este ejemplo necesitaremos una base de datos con al menos una tabla que será llamada para realizar nuestro <strong>CRUD (Crear, Consultar, Modificar, Eliminar)</strong>).</li> </ul> <blockquote> <p>Nota: para este ejemplo ocuparemos una Base de Datos <strong>"POS"</strong> alojada en un servidor AZURE.</p> </blockquote> <h2 id=creando-nuestro-proyecto-web>Creando nuestro proyecto Web</h2> <p>Lo primero es crear un nuevo proyecto en Visual Studio, como se muestra en la siguiente imagen.</p> <p><img alt=CrearProyecto1 src=media/blog/CSharp/ASP-NET/RESTAPI/1-RestApi.png></p> <p>A continuación vamos a seleccionar <strong>Aplicacion web ASP.NET (.NET Framework)</strong>, como se muestra en la imagen siguiente:</p> <p><img alt=Proyecto1 src=media/blog/CSharp/ASP-NET/RESTAPI/2-RestApi.png></p> <blockquote> <p>Nota: Asegurate se que el proyecto seleccionado sea del tipo C#, por que puedes confundirte con un proyecto del tipo VisualBasic</p> </blockquote> <p>Configuramos el nombre de nuestro proyecto, asi como la ubicación del mismo.</p> <p><img alt=configurarProyecto src=media/blog/CSharp/ASP-NET/RESTAPI/3-RestApi.png></p> <p>A continuación seleccionaremos el template o plantilla API Web.</p> <p><img alt=template src=media/blog/CSharp/ASP-NET/RESTAPI/4-RestApi.png></p> <p>Una vez terminado el proceso, se mostrara una pantalla de información a ASP.NET.</p> <p><img alt=newProyecto src=media/blog/CSharp/ASP-NET/RESTAPI/5-RestApi.png></p> <h2 id=agregando-proyecto-de-acceso-a-datos>Agregando proyecto de Acceso a Datos</h2> <p>Agregamos un nuevo proyecto donde realizaremos la conexion a la Base de Datos como se muestra a continuación: <strong>Seleccionamos el nombre de la Solución > Click derecho sobre el proyecto > Agregar > Nuevo proyecto.</strong></p> <p><img alt=addProyecto src=media/blog/CSharp/ASP-NET/RESTAPI/6-RestApi.png></p> <p>El nuevo proyecto será del tipo biblioteca de clases, para esto podemos hacer uso del control de busqueda de plantilla teclear <strong>"Biblioteca de Clases"</strong> en cual nos mostrara el proyecto que vamos a ocupar.</p> <p><img alt=Proyecto2 src=media/blog/CSharp/ASP-NET/RESTAPI/7-RestApi.png></p> <blockquote> <p>Nota: Asegurate se que el proyecto seleccionado sea del tipo C#, por que puedes confundirte con un proyecto del tipo VisualBasic</p> </blockquote> <p>Configuramos el nombre de nuestro proyecto en este caso será <strong>AccesoDatos</strong>, por defecto dejaremos la misma ubicación del proyecto.</p> <p><img alt=nombreProyecto2 src=media/blog/CSharp/ASP-NET/RESTAPI/8-RestApi.png></p> <p>Una vez que se ha creado nuestro segundo proyecto podemos ver los dos proyectos en la misma solución como se muestra en la siguiente imagen.</p> <p><img alt=ambosProyectos src=media/blog/CSharp/ASP-NET/RESTAPI/8-1-RestApi.png></p> <blockquote> <p>Nota: Podemos eliminar la Class1.cs ya que no la necesitamos para este ejemplo.</p> </blockquote> <p>A continuación procedemos a agregar un nuevo elemento como semuestra a continuación: <strong>Seleccionamos el nombre del proyecto "AccesoDatos" > Click derecho sobre el proyecto > Agregar > Nuevo elemento.</strong></p> <p><img alt=agregaModel src=media/blog/CSharp/ASP-NET/RESTAPI/9-RestApi.png></p> <p>El elemento que vamos a agregar será <strong>Visual C# > Datos >ADO.NET Entity Data Model</strong> le cambiamos el nobre del Modelo y le damos agregar.</p> <p><img alt=addModelo src=media/blog/CSharp/ASP-NET/RESTAPI/10-RestApi.png></p> <p>En el asistente para Entity Data Model escogeremos el primero <strong>EF Designer desde base de datos</strong></p> <p><img alt=EFDesigner src=media/blog/CSharp/ASP-NET/RESTAPI/11-RestApi.png></p> <p>A continuación debemos de seleccionar la conexión de datos que vamos a ocupar, en este caso como es un proyecto nuevo no tenemos ninguna por lo que deberemos de crearla, para ello vamos a darle click al boton nueva conexión.</p> <p><img alt=conexion1 src=media/blog/CSharp/ASP-NET/RESTAPI/12-RestApi.png></p> <p>Se nos mostrara la pantalla de propiedades de la conexión, donde nos pide:</p> <ul> <li>Nombre Servidor</li> <li>Tipo de Autenticación</li> <li>Usuario</li> <li>Contraseña</li> <li>Nombre Base de Datos</li> </ul> <p><img alt=configConexion src=media/blog/CSharp/ASP-NET/RESTAPI/13-RestApi.png></p> <blockquote> <p>Nota: En caso de querer ocupar otro tipo de origen de datos debes de darle click al boton cambiar y seleccionar el origen de datos que deseas. Una vez que haz llenado todos los campos requeridos con los datos que te conectaran con tu base de datos puedes procedes a probar conexión y aceptar.</p> </blockquote> <p>Si nuestra cadena de conexión se ha creado correctamente el asistente nos regresara a la pantalla previa y llenara los datos que necesitamos, en este punto como este es un ejemplo seleccionaremos incluir datos confidenciales de nuestra cadena de conexión, pero lo ideal es que esta información no permitieramos para luego pasarlo a través de nuestro código, pero ese es tema para otro blog.</p> <p><img alt=conexion2 src=media/blog/CSharp/ASP-NET/RESTAPI/14-RestApi.png></p> <p>Luego seleccionamos la versión del Entity Framework en este caso la version 6.x.</p> <p><img alt=selectEntity src=media/blog/CSharp/ASP-NET/RESTAPI/15-RestApi.png></p> <p>En la siguiente pantalla del asistente seleccionamos la base de datos y las tablas que vamos a utilizar, por ultimo tecleamos el nombre de nuestro modelo, en este caso <strong>POSmodel</strong> y haga clic en finalizar.</p> <p><img alt=SelectDB src=media/blog/CSharp/ASP-NET/RESTAPI/16-RestApi.png></p> <blockquote> <p>Nota: 1) Puedes Pluralizar o singularizar el nombre de objeto generado: básicamente, agregar o quitar <strong>"s"</strong> o es en los nombres de objeto. 2) Incluir una columna de clave externa en el modelo: esta propiedad se utiliza para incluir relaciones entre tablas.</p> </blockquote> <p>Una vez que lo haga, obtendrá una buena vista de sus tablas (detrás de escena).</p> <p><img alt=tablasModelo src=media/blog/CSharp/ASP-NET/RESTAPI/17-RestApi.png></p> <blockquote> <p>Nota: Asegurate en este momento de compilar tu proyecto, para que no te de problemas más adelante.</p> </blockquote> <p>En nuestro proyecto AccesoDatos vamos a buscar el archivo app.Config, donde seleccionaremos y copiaremos la cadena de conexión a la base de datos.</p> <p><img alt=appConfig src=media/blog/CSharp/ASP-NET/RESTAPI/18-RestApi.png></p> <p>En nuestro proyecto principal <strong>WebApi</strong> vamos a buscar el archivo <strong>Web.config</strong> y pegar la cadena de conexión copiada en el paso anterior.</p> <p><img alt=webApiConexion src=media/blog/CSharp/ASP-NET/RESTAPI/19-RestApi.png></p> <p>A continuación agregaremos una referencia.</p> <p><img alt=addRegerencia src=media/blog/CSharp/ASP-NET/RESTAPI/20-RestApi.png></p> <p>En la opción proyectos seleccionaremos el nombre del proyecto donde se encuentra la configuración de la base de datos, en este caso <strong>AccesoDatos</strong> .</p> <p><img alt=addReferencia2 src=media/blog/CSharp/ASP-NET/RESTAPI/21-RestApi.png></p> <p>Puedes ver la referencia del proyecto en el apartado <strong>Referencias</strong>.</p> <p><img alt=references src=media/blog/CSharp/ASP-NET/RESTAPI/22-RestApi.png></p> <h2 id=agregando-un-controlador>Agregando un Controlador</h2> <p>Siempre en nuestro proyecto principal agregaremos un Controller como semuestra a continuación: <strong>Seleccionamos la carpeta "Controller" > Click derecho sobre el proyecto > Agregar > Controlador.</strong></p> <p><img alt=addController src=media/blog/CSharp/ASP-NET/RESTAPI/23-RestApi.png></p> <p>En la pantalla del asistente seleccionaremos <strong>Web API</strong> el tipo <strong>Controlador Web Api 2 - Empty</strong>.</p> <p><img alt=addController2 src=media/blog/CSharp/ASP-NET/RESTAPI/24-RestApi.png></p> <blockquote> <p>Nota: En caso de que te salga un error incicando que no puede encontrar el archivo AccesoDatos.dll puedes seleccionar el proyecto AccesoDatos -> Build -> Rebuild Solution.</p> </blockquote> <p>Si no te dio problemas puedes proceder a editar el nombre del controlador, en este caso vamos a ocupar <strong>ArticuloController</strong>.</p> <p><img alt=addController3 src=media/blog/CSharp/ASP-NET/RESTAPI/25-RestApi.png></p> <p>En el controllador que se acaba de crear agregaremos la siguiente línea <strong>"private POSEntities Context = new POSEntities()"</strong> que es la referencia de la conexión de la base datos.</p> <p>Al agregar esta linea se nos presente un error por que no detecta o no reconoce la referencia de POSEntities, para solucionarlo tenemos que agregar la referencia del proyecto.</p> <p>Una solución sencilla es posicionarlos en POSEntities damos click al icono <img alt=icono src=media/blog/CSharp/ASP-NET/RESTAPI/26-2-RestApi.png> y este nos desplegara un menu donde seleccionaremos <strong>"using AccesoDatos;"</strong></p> <p><img alt=addUsingReferencia src=media/blog/CSharp/ASP-NET/RESTAPI/26-RestApi.png></p> <p>Si hemos realizado los pasos correctamente nuestra controlador deberia de verse a como se muestra a continuación. <img alt=addUsingReferencia1 src=media/blog/CSharp/ASP-NET/RESTAPI/26-1-RestApi.png></p> <h2 id=administrar-paquetes-nuget>Administrar paquetes NuGet</h2> <p>Para poder continuar con este ejemplo necesitamos algunos paquetes o archivos DLL necesarios, para ellos vamos a hacer uso del Administrador de paquetes Nuget que nos ofrece Visual Studio.</p> <p>En nuestro proyecto WebAPI vamos a seleccionar Referencias > Administrar paquetes NuGet...</p> <p><img alt=addPaquetesNuget src=media/blog/CSharp/ASP-NET/RESTAPI/27-RestApi.png></p> <p>En el administrador de paquetes en el apartado Examinar vamos a buscar el paquete <strong>EntityFramework</strong> y le damos instalar.</p> <p><img alt=addPaquetesNuget1 src=media/blog/CSharp/ASP-NET/RESTAPI/28-RestApi.png></p> <p>Al momento de la instalación se mostraran una ventana de Aceptación de Lincencia, le damos Aceptar para poder continuar.</p> <p><img alt=addPaquetesNuget2 src=media/blog/CSharp/ASP-NET/RESTAPI/28-1-RestApi.png></p> <p>Se agregaran 2 referencia <strong>EntityFramework</strong> y <strong>EntityFramework.SqlServer</strong>. Puedes revisarlo en:</p> <ol> <li>Las referencias del proyecto.</li> <li>Apartado instalado del Administrador de paquetes Nuget.</li> <li>El paquete instalado muestra un icono en color verde.</li> <li>Al seleccionar el paquete en la parte derecha nos muestra la opción de desinstalar.</li> </ol> <p><img alt=addPaquetesNuget3 src=media/blog/CSharp/ASP-NET/RESTAPI/29-RestApi.png></p> <p>En la sección de referencias del controlador vamos a eliminar la referencia <strong>using System.Net.Http</strong>.</p> <p><img alt=addPaquetesNuget4 src=media/blog/CSharp/ASP-NET/RESTAPI/29-1-RestApi.png></p> <h2 id=agregando-crud>Agregando CRUD</h2> <p>En este punto vamos a agregar el CRUD que ocupara nuestra API-REST.</p> <p>La primera acción que vamos a crear es la de <strong>Consultar</strong> donde ocuparemos el método <strong>GET</strong>, para ello agregaremos el siguiente código que realizara la consulta de todos los registros de la tabla.</p> <p><img alt=apiGet src=media/blog/CSharp/ASP-NET/RESTAPI/apiGet.png></p> <blockquote> <p>Nota: El nombre de la tabla Articulo que se ocupa en <strong><code>IEnumerable&lt;Articulo></code></strong> la podemos obtener consultando la referencia de nuestra conexión a la base de datos.</p> </blockquote> <p>Para retornar los valores filtrados por id deberiamos agregar el siguiente código.</p> <p><img alt=apiGetid src=media/blog/CSharp/ASP-NET/RESTAPI/apiGetid.png></p> <p>Tu código debería quedar de la siguiente forma.</p> <p><img alt=crudConsulta src=media/blog/CSharp/ASP-NET/RESTAPI/30-RestApi.png></p> <p>La siguiente acción a realizar es para <strong>Crear</strong> un nuevo registro, en este caso vamos utilizar el método <strong>POST</strong>.</p> <p><img alt=apiPost src=media/blog/CSharp/ASP-NET/RESTAPI/apiPost.png></p> <p>Tu código debería quedar de la siguiente forma.</p> <p><img alt=crudPOST src=media/blog/CSharp/ASP-NET/RESTAPI/31-RestApi.png></p> <p>La siguiente acción a realizar nos permitira <strong>Actualizar</strong> nuestros registros, en este caso vamos utilizar el método <strong>PUT</strong>.</p> <p><img alt=apiPut src=media/blog/CSharp/ASP-NET/RESTAPI/apiPut.png></p> <blockquote> <p>Nota: En caso de que te salga un error asegurate de tener agregada la referencia <strong>System.Data.Entity</strong>.</p> </blockquote> <p>Tu código debería quedar de la siguiente forma.</p> <p><img alt=crudPUT src=media/blog/CSharp/ASP-NET/RESTAPI/32-RestApi.png></p> <p>La siguiente acción a realizar nos permitira <strong>Eliminar</strong> nuestros registros, en este caso vamos utilizar el método <strong>Delete</strong>.</p> <p><img alt=apiDelete src=media/blog/CSharp/ASP-NET/RESTAPI/apiDelete.png></p> <p>Tu código debería quedar de la siguiente forma.</p> <p><img alt=crudDelete src=media/blog/CSharp/ASP-NET/RESTAPI/33-RestApi.png></p> <p>A continución ejecutaremos nuestra aplicación la cual nos abrira nuestro navegador con la dirección de Localhost que nos mostrara la página principal de nuestra API-REST.</p> <p><img alt=pagina src=media/blog/CSharp/ASP-NET/RESTAPI/34-RestApi.png></p> <p>En la página que se nos ha cargado, seleccionaremos el apartado API, aquí podemos visualizar los métodos activos en este caso el primero que se nos muestra es el método GET.</p> <p><img alt=paginaApi src=media/blog/CSharp/ASP-NET/RESTAPI/35-RestApi.png></p> <p>Para poder probar que lo que hemos hecho esta funcionando vamos consultar todos los registros de la tabla, en nuestro navegador debemos teclear despues de <strong>localhost:puerto/</strong> <strong>api/articulo</strong>, quedando de la siguiente manera <strong>localhost/api/usuarios</strong>, si todo esta bien se visualizaran todos los registros de la tabla en formato XML.</p> <p><img alt=testApi src=media/blog/CSharp/ASP-NET/RESTAPI/35-1-RestApi.png></p> <blockquote> <p>Nota: En este ejemplo estamos ocupando la tabla Articulo tu tendras que cambiarla por las tablas que vas a ocupar ejemplo: api/usuarios, api/facturas, api/clientes, etc</p> </blockquote> <p>La salida de la información esta en formato XML para generarla en formato Json debemos editar el archivo <strong>WebApiConfig.cs</strong> que se ubica en el proyecto principal WebAPI.</p> <p>Teclearemos el siguiente código que realizar la salida en formato Json y remueve la salida en formato XML.</p> <p><img alt=formatJson src=media/blog/CSharp/ASP-NET/RESTAPI/formatJson.png></p> <p>Tu código debería quedar de la siguiente forma.</p> <p><img alt=testApi src=media/blog/CSharp/ASP-NET/RESTAPI/35-2-RestApi.png></p> <p>Si volvemos a realizar la consulta de todos los registros veremos que la salida será en formato Json.</p> <p><img alt=testApi src=media/blog/CSharp/ASP-NET/RESTAPI/35-3-RestApi.png></p> <h2 id=probando-api-rest-con-postman>Probando API-REST con POSTMAN</h2> <p>Llegamos al final de esta publicación y en esta sección vamos a realizar la prueba final de nuestra API-REST.</p> <p>Lo primero que debemos realizar es ejecutar POSTMAN que previamente deberias tener instalado, si aun no lo tienes instalado te dejo el <a href=https://www.postman.com/ target=_blank rel=nofollow>Link</a> para que te registres y descargues.</p> <h3 id=método-get-todos-los-registros>MÉTODO GET (Todos los registros)</h3> <p>Para probar nuestro método GET con POSTMAN deberiamos de realizar los siguientes pasos:</p> <ol> <li>Seleccionamos el método <strong>GET</strong>.</li> <li>Tecleamos la <strong>URL</strong> de nuestra API, en mi caso sería: (<code>https://localhost:44381/api/articulo</code>).</li> <li>Presionamos el botón <strong>SEND</strong>.</li> <li>En la parte inferior <strong>(Body)</strong> se visualizan todos los registros de la tabla.</li> <li>Se nos indica el stado de nuestra consulta <strong>Status: 200 ok</strong>.</li> </ol> <p><img alt=testGET src=media/blog/CSharp/ASP-NET/RESTAPI/36-RestApi.png></p> <h3 id=método-post-agregar-un-nuevo-registro>MÉTODO POST (Agregar un nuevo registro)</h3> <p>Para agregar nuevos registros en nuestra base de datos ocuparemos el método POST.</p> <p>Siguiendo los pasos anteriores nos quedaria de la siguiente manera:</p> <ol> <li>Seleccionamos el método <strong>POST</strong>.</li> <li>Tecleamos la <strong>URL</strong> de nuestra API, en mi caso sería: (<code>https://localhost:44381/api/articulo</code>).</li> <li>En los parametros seleccionaremos <strong>Body > raw > Formato Json</strong>.</li> <li>Tecleremos los nuevos datos a agregar en formato Json</li> <li>Presionamos el botón <strong>SEND</strong>.</li> <li>En la parte inferior <strong>(Body)</strong> se visualizara el nuevo registros agregado a nuestra base de datos.</li> <li>Se nos indica el stado de nuestra consulta <strong>Status: 200 ok</strong>.</li> </ol> <p><img alt=testPOST src=media/blog/CSharp/ASP-NET/RESTAPI/39-RestApi.png></p> <h3 id=método-put-modificando-un-registro>MÉTODO PUT (Modificando un registro)</h3> <p>Para modificar o actualizar nuestros registro en base de datos ocuparemos el método PUT.</p> <p>Siguiendo los pasos anteriores para actualizar un registro desde Postman realizaremos los siguientes pasos:</p> <ol> <li>Seleccionamos el método <strong>PUT</strong>.</li> <li>Tecleamos la <strong>URL</strong> de nuestra API, en mi caso sería: (<code>https://localhost:44381/api/articulo/1</code>).</li> <li>En los parametros seleccionaremos <strong>Body > raw > Formato Json</strong>.</li> <li>Tecleremos los datos a cambiar en formato Json</li> <li>Presionamos el botón <strong>SEND</strong>.</li> <li>En la parte inferior <strong>(Body)</strong> se visualizan los registros ya actualizados.</li> <li>Se nos indica el stado de nuestra consulta <strong>Status: 200 ok</strong>.</li> </ol> <p><img alt=testPUT src=media/blog/CSharp/ASP-NET/RESTAPI/37-RestApi.png></p> <h3 id=método-get-obtener-registros-filtrado-por-id>MÉTODO GET (Obtener registros filtrado por id)</h3> <p>Tambien se puede consultar los cambios volviendo a ejecutar un método GET ya sea el de obtener todo o bien el método de filtrado por id.</p> <p>Para ello podemos realizar los siguientes pasos:</p> <ol> <li>Seleccionamos el método <strong>GET</strong>.</li> <li>Tecleamos la <strong>URL</strong> de nuestra API y le agregamos al final el id de nuestro articulo, en mi caso sería <code>articulo/1</code>: (<code>https://localhost:44381/api/articulo/1</code>).</li> <li>Presionamos el botón <strong>SEND</strong>.</li> <li>En la parte inferior <strong>(Body)</strong> se visualizara el registros de que seleccionado.</li> <li>Se nos indica el stado de nuestra consulta <strong>Status: 200 ok</strong>.</li> </ol> <p><img alt=testGET1 src=media/blog/CSharp/ASP-NET/RESTAPI/36-1-RestApi.png></p> <h3 id=método-delete-eliminar-registros>MÉTODO DELETE (Eliminar registros)</h3> <p>Para eliminar los registros de nuestra base de datos ocuparemos el método Delete. Siguiendo los pasos anteriores nos quedaria de la siguiente manera:</p> <ol> <li>Seleccionamos el método <strong>DELETE</strong>.</li> <li>Tecleamos la <strong>URL</strong> de nuestra API y le agregamos al final el id de nuestro articulo que deseamos eliminar, en mi caso sería <code>articulo/17</code>: (<code>https://localhost:44381/api/articulo/17</code>).</li> <li>Presionamos el botón <strong>SEND</strong>.</li> <li>En la parte inferior <strong>(Body)</strong> se visualizara el registros eliminados.</li> <li>Se nos indica el stado de nuestra consulta <strong>Status: 200 ok</strong>.</li> </ol> <p><img alt=testDelete src=media/blog/CSharp/ASP-NET/RESTAPI/38-RestApi.png></p> <blockquote> <p>Nota: Recuerda que despues de utilizar los métodos POST, DELETE, PUT puedes ocupar el método GET (Obtener Todos) ó el método GET(id) para consultar los cambios realizados.</p> </blockquote> <h2 id=conclusiones>Conclusiones</h2> <p>Creo que este artículo se extendio pero era necesario, si realizaste el paso a paso no deberias de tener problemas y ahora tu API-REST puede ser utilizado en cualquier aplicación por el método HTTP.</p> <p>Recuerda que para este ejemplo ocupamos POSTMAN pero puedes ocupar cualquier otra herramienta de testing para API REST tanto en versiones de escritorio como web como por ejemplo: insomnia, Paw, Wizdler, etc, por nombrar algunas.</p> <p>Si te gustaria ver como publicar este proyecto en un servidor IISS o como podemos consumir nuestra API-REST desde un proyecto FrontEnd o algún otro tema que te gustaria ver dejame tu comentario con gusto lo leere y sacare un tiempo para responderte y escribirlo.</p> <p>Puedes descargar el proyecto desde mi repositorio en <a href=https://github.com/erickmarcia/CSHARP/tree/main/APIREST/WebApi target=_blank rel=nofollow>GitHub</a></p> <p>¡Listo para crear tu primera API-REST!</p> <p>Y esto es todo. Espero que te pueda servir.</p> <p><b>Si te gusta mi contenido</b>, puedes "invitarme" a un café ☕️ para apoyarme. 👇🏻</p> <div class=mb-3><a href=https://ko-fi.com/C0C44WHUS#checkoutModal target=_blank><img alt="¿Me invitas a un café?" src=/media/ko-fi.png></a></div> <div> </div> </article> <hr> <div class=svelte-5qew12> <img alt="Erick Marcia" src=/media/about-me/profile.png class=svelte-5qew12> <p class=svelte-5qew12> Hola, Soy <strong>Erick Marcia</strong>. Ingeniero de Software y MCSA certificado por Microsoft, vivo en Granada - Nicaragua. Puedes seguirme en <a href=https://www.twitter.com/Emarcia14 target=_blank>Twitter</a>, ver algunos de mis trabajos en <a href=https://www.github.com/erickmarcia target=_blank>GitHub</a>, o leer más sobre mí en <a href=https://erickmarcia.github.io/ target=_blank>my website</a>. </p> </div> <hr> </div> <div class="svelte-bquwsq Social-media-container"> <div class="svelte-3oea21 Twitter-container"> <svg class="feather feather-twitter twitter-icon" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=24px stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24px><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg> <p class=svelte-3oea21>Compartir</p> </div> <span class="svelte-3oea21 limiter">|</span> <div class="svelte-3oea21 Comment-button"> <svg class="feather feather-message-square" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=24px stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24px><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg> <p class=svelte-3oea21>Comentar</p> </div> </div> <div class="svelte-bquwsq Post-comments"> <div id=disqus_thread></div> </div> </div> <div class="svelte-1acheyc Sidebar-container"> <div class="svelte-1acheyc Sidebar"> <div class=Post-container> <h3>Otras publicaciones</h3> <div class="Card-container is-clickeable svelte-n3cckc"> <div class="svelte-iq2b9e Post-content"> <div class="svelte-iq2b9e Post-image" style=background-image:url(media/blog/SQL/Consecutivo/Banner.jpg)> </div> <div class="svelte-iq2b9e Post-head"> <div class="svelte-iq2b9e Post-title"> <h3 class=svelte-iq2b9e> Actualizar Consecutivo con formato "CON-2022-000" en SQL </h3> <span class="svelte-iq2b9e tag"> <svg class="feather feather-tag" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=14px stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=14px><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1=7 x2=7.01 y1=7 y2=7></line></svg>   undefined </span> <p class=svelte-iq2b9e> <time class=svelte-iq2b9e> <svg class="feather feather-calendar" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=20px stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20px><rect height=18 rx=2 ry=2 width=18 x=3 y=4></rect><line x1=16 x2=16 y1=2 y2=6></line><line x1=8 x2=8 y1=2 y2=6></line><line x1=3 x2=21 y1=10 y2=10></line></svg>   Invalid Date </time> <span class=svelte-iq2b9e> <svg class="feather feather-book-open" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=20px stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20px><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>   3 Min </span> </p> </div> <div class=Post-tags></div> <div class="svelte-iq2b9e Post-desc"> <p class=svelte-iq2b9e></p> </div> </div> </div> </div> </div> </div> <div> <iframe height=712 src="https://ko-fi.com/erickmarcia/?hidefeed=true&widget=true&embed=true⪯view=true" style=border:none;width:100%;padding:4px;background:#f9f9f9 title=erickmarcia></iframe> </div> </div> </div> </main> <footer class=svelte-1eajn4l> <span> © 2022 Sitio en construcción. Web Diseñada por <a href=https://www.twitter.com/Emarcia14 target=_blank>Erick Marcia</a>. usando<a href=https://sapper.svelte.dev target=_blank>Sapper</a>. </span> </footer> </div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{title:"Api Rest: Crear una Api Rest con Asp.Net MVC y C#",slug:"Crear-una-Api-Rest-con-AspNet-MVC-y-CSharp",html:"\u003Cfigcaption\u003EIlustración Gracias a \u003Ca href=\"https:\u002F\u002Fwww.freepik.com\u002Ffree-photos-vectors\u002Fbanner\" target=\"_blank\"\u003Eupklyak - www.freepik.com\u003C\u002Fa\u003E\u003C\u002Ffigcaption\u003E\n\n\u003Ch2 id=\"¿qué-es-una-api-rest\"\u003E¿Qué es una API Rest?\u003C\u002Fh2\u003E\n\u003Cp\u003EUna API REST es una arquitectura de Software BackEnd que se apoya en el estándar\nHTTP, que permite crear aplicaciones y servicios que pueden ser usados desde\ncualquier dispositivo o cliente que utilice HTTP.\u003C\u002Fp\u003E\n\u003Cp\u003ELos datos obtenidos pueden ser XML o JSON que suele ser más rápido.\u003C\u002Fp\u003E\n\u003Cp\u003ELas operaciones más importantes es el denominado \u003Cstrong\u003ECRUD (Crear, Consultar,\nModificar, Eliminar)\u003C\u002Fstrong\u003E):\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EGET (Leer y consultar los registros)\u003C\u002Fli\u003E\n\u003Cli\u003EPOST (Crear nuevos registros)\u003C\u002Fli\u003E\n\u003Cli\u003EPUT (Editar y modificar los registros)\u003C\u002Fli\u003E\n\u003Cli\u003EDELETE (Eliminar los registros)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ELa principal ventaja de las API REST es que podemos desarrollar una API en el\nbackend y utilizarla en cualquier dispositivo, ahorrando así mucho tiempo de\ndesarrollo, estas API son capaces de contestas las llamadas desde una serie de\nURLs en formato JSON y también pueden recibir datos en formato JSON para\ngestionar la información que le enviemos.\u003C\u002Fp\u003E\n\u003Cp\u003ETratere que al finalizar este artículo puedas comprender de forma más clara este\nconcepto.\u003C\u002Fp\u003E\n\u003Cp\u003EPara este ejemplo necesitaremos tener instalado lo siguiente:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EVisual Studio 2019\u003C\u002Fli\u003E\n\u003Cli\u003EPostman\u003C\u002Fli\u003E\n\u003Cli\u003EBase de Datos (Para este ejemplo necesitaremos una base de datos con al\nmenos una tabla que será llamada para realizar nuestro \u003Cstrong\u003ECRUD (Crear,\nConsultar, Modificar, Eliminar)\u003C\u002Fstrong\u003E).\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: para este ejemplo ocuparemos una Base de Datos \u003Cstrong\u003E&quot;POS&quot;\u003C\u002Fstrong\u003E alojada en un\nservidor AZURE.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch2 id=\"creando-nuestro-proyecto-web\"\u003ECreando nuestro proyecto Web\u003C\u002Fh2\u003E\n\u003Cp\u003ELo primero es crear un nuevo proyecto en Visual Studio, como se muestra en la\nsiguiente imagen.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F1-RestApi.png\" alt=\"CrearProyecto1\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EA continuación vamos a seleccionar \u003Cstrong\u003EAplicacion web ASP.NET (.NET Framework)\u003C\u002Fstrong\u003E,\ncomo se muestra en la imagen siguiente:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F2-RestApi.png\" alt=\"Proyecto1\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: Asegurate se que el proyecto seleccionado sea del tipo C#, por que\npuedes confundirte con un proyecto del tipo VisualBasic\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EConfiguramos el nombre de nuestro proyecto, asi como la ubicación del mismo.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F3-RestApi.png\" alt=\"configurarProyecto\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EA continuación seleccionaremos el template o plantilla API Web.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F4-RestApi.png\" alt=\"template\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EUna vez terminado el proceso, se mostrara una pantalla de información a ASP.NET.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F5-RestApi.png\" alt=\"newProyecto\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"agregando-proyecto-de-acceso-a-datos\"\u003EAgregando proyecto de Acceso a Datos\u003C\u002Fh2\u003E\n\u003Cp\u003EAgregamos un nuevo proyecto donde realizaremos la conexion a la Base de Datos\ncomo se muestra a continuación: \u003Cstrong\u003ESeleccionamos el nombre de la Solución &gt; Click\nderecho sobre el proyecto &gt; Agregar &gt; Nuevo proyecto.\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F6-RestApi.png\" alt=\"addProyecto\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EEl nuevo proyecto será del tipo biblioteca de clases, para esto podemos hacer\nuso del control de busqueda de plantilla teclear \u003Cstrong\u003E&quot;Biblioteca de Clases&quot;\u003C\u002Fstrong\u003E en\ncual nos mostrara el proyecto que vamos a ocupar.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F7-RestApi.png\" alt=\"Proyecto2\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: Asegurate se que el proyecto seleccionado sea del tipo C#, por que\npuedes confundirte con un proyecto del tipo VisualBasic\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EConfiguramos el nombre de nuestro proyecto en este caso será \u003Cstrong\u003EAccesoDatos\u003C\u002Fstrong\u003E,\npor defecto dejaremos la misma ubicación del proyecto.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F8-RestApi.png\" alt=\"nombreProyecto2\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EUna vez que se ha creado nuestro segundo proyecto podemos ver los dos proyectos\nen la misma solución como se muestra en la siguiente imagen.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F8-1-RestApi.png\" alt=\"ambosProyectos\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: Podemos eliminar la Class1.cs ya que no la necesitamos para este\nejemplo.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EA continuación procedemos a agregar un nuevo elemento como semuestra a\ncontinuación: \u003Cstrong\u003ESeleccionamos el nombre del proyecto &quot;AccesoDatos&quot; &gt; Click\nderecho sobre el proyecto &gt; Agregar &gt; Nuevo elemento.\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F9-RestApi.png\" alt=\"agregaModel\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EEl elemento que vamos a agregar será \u003Cstrong\u003EVisual C# &gt; Datos &gt;ADO.NET Entity Data\nModel\u003C\u002Fstrong\u003E le cambiamos el nobre del Modelo y le damos agregar.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F10-RestApi.png\" alt=\"addModelo\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EEn el asistente para Entity Data Model escogeremos el primero \u003Cstrong\u003EEF Designer\ndesde base de datos\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F11-RestApi.png\" alt=\"EFDesigner\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EA continuación debemos de seleccionar la conexión de datos que vamos a ocupar,\nen este caso como es un proyecto nuevo no tenemos ninguna por lo que deberemos\nde crearla, para ello vamos a darle click al boton nueva conexión.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F12-RestApi.png\" alt=\"conexion1\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ESe nos mostrara la pantalla de propiedades de la conexión, donde nos pide:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ENombre Servidor\u003C\u002Fli\u003E\n\u003Cli\u003ETipo de Autenticación\u003C\u002Fli\u003E\n\u003Cli\u003EUsuario\u003C\u002Fli\u003E\n\u003Cli\u003EContraseña\u003C\u002Fli\u003E\n\u003Cli\u003ENombre Base de Datos\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F13-RestApi.png\" alt=\"configConexion\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: En caso de querer ocupar otro tipo de origen de datos debes de darle\nclick al boton cambiar y seleccionar el origen de datos que deseas. Una vez\nque haz llenado todos los campos requeridos con los datos que te conectaran\ncon tu base de datos puedes procedes a probar conexión y aceptar.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003ESi nuestra cadena de conexión se ha creado correctamente el asistente nos\nregresara a la pantalla previa y llenara los datos que necesitamos, en este\npunto como este es un ejemplo seleccionaremos incluir datos confidenciales de\nnuestra cadena de conexión, pero lo ideal es que esta información no\npermitieramos para luego pasarlo a través de nuestro código, pero ese es tema\npara otro blog.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F14-RestApi.png\" alt=\"conexion2\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ELuego seleccionamos la versión del Entity Framework en este caso la version 6.x.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F15-RestApi.png\" alt=\"selectEntity\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EEn la siguiente pantalla del asistente seleccionamos la base de datos y las\ntablas que vamos a utilizar, por ultimo tecleamos el nombre de nuestro modelo,\nen este caso \u003Cstrong\u003EPOSmodel\u003C\u002Fstrong\u003E y haga clic en finalizar.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F16-RestApi.png\" alt=\"SelectDB\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: 1) Puedes Pluralizar o singularizar el nombre de objeto generado:\nbásicamente, agregar o quitar \u003Cstrong\u003E&quot;s&quot;\u003C\u002Fstrong\u003E o es en los nombres de objeto. 2)\nIncluir una columna de clave externa en el modelo: esta propiedad se utiliza\npara incluir relaciones entre tablas.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EUna vez que lo haga, obtendrá una buena vista de sus tablas (detrás de escena).\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F17-RestApi.png\" alt=\"tablasModelo\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: Asegurate en este momento de compilar tu proyecto, para que no te de\nproblemas más adelante.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EEn nuestro proyecto AccesoDatos vamos a buscar el archivo app.Config, donde\nseleccionaremos y copiaremos la cadena de conexión a la base de datos.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F18-RestApi.png\" alt=\"appConfig\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EEn nuestro proyecto principal \u003Cstrong\u003EWebApi\u003C\u002Fstrong\u003E vamos a buscar el archivo\n\u003Cstrong\u003EWeb.config\u003C\u002Fstrong\u003E y pegar la cadena de conexión copiada en el paso anterior.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F19-RestApi.png\" alt=\"webApiConexion\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EA continuación agregaremos una referencia.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F20-RestApi.png\" alt=\"addRegerencia\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EEn la opción proyectos seleccionaremos el nombre del proyecto donde se encuentra\nla configuración de la base de datos, en este caso \u003Cstrong\u003EAccesoDatos\u003C\u002Fstrong\u003E .\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F21-RestApi.png\" alt=\"addReferencia2\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EPuedes ver la referencia del proyecto en el apartado \u003Cstrong\u003EReferencias\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F22-RestApi.png\" alt=\"references\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"agregando-un-controlador\"\u003EAgregando un Controlador\u003C\u002Fh2\u003E\n\u003Cp\u003ESiempre en nuestro proyecto principal agregaremos un Controller como semuestra a\ncontinuación: \u003Cstrong\u003ESeleccionamos la carpeta &quot;Controller&quot; &gt; Click derecho sobre el\nproyecto &gt; Agregar &gt; Controlador.\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F23-RestApi.png\" alt=\"addController\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EEn la pantalla del asistente seleccionaremos \u003Cstrong\u003EWeb API\u003C\u002Fstrong\u003E el tipo \u003Cstrong\u003EControlador\nWeb Api 2 - Empty\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F24-RestApi.png\" alt=\"addController2\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: En caso de que te salga un error incicando que no puede encontrar el\narchivo AccesoDatos.dll puedes seleccionar el proyecto AccesoDatos -&gt; Build -&gt;\nRebuild Solution.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003ESi no te dio problemas puedes proceder a editar el nombre del controlador, en\neste caso vamos a ocupar \u003Cstrong\u003EArticuloController\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F25-RestApi.png\" alt=\"addController3\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EEn el controllador que se acaba de crear agregaremos la siguiente línea\n\u003Cstrong\u003E&quot;private POSEntities Context = new POSEntities()&quot;\u003C\u002Fstrong\u003E que es la referencia de la\nconexión de la base datos.\u003C\u002Fp\u003E\n\u003Cp\u003EAl agregar esta linea se nos presente un error por que no detecta o no reconoce\nla referencia de POSEntities, para solucionarlo tenemos que agregar la\nreferencia del proyecto.\u003C\u002Fp\u003E\n\u003Cp\u003EUna solución sencilla es posicionarlos en POSEntities damos click al icono\n\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F26-2-RestApi.png\" alt=\"icono\"\u003E y este nos\ndesplegara un menu donde seleccionaremos \u003Cstrong\u003E&quot;using AccesoDatos;&quot;\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F26-RestApi.png\" alt=\"addUsingReferencia\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ESi hemos realizado los pasos correctamente nuestra controlador deberia de verse\na como se muestra a continuación.\n\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F26-1-RestApi.png\" alt=\"addUsingReferencia1\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"administrar-paquetes-nuget\"\u003EAdministrar paquetes NuGet\u003C\u002Fh2\u003E\n\u003Cp\u003EPara poder continuar con este ejemplo necesitamos algunos paquetes o archivos\nDLL necesarios, para ellos vamos a hacer uso del Administrador de paquetes Nuget\nque nos ofrece Visual Studio.\u003C\u002Fp\u003E\n\u003Cp\u003EEn nuestro proyecto WebAPI vamos a seleccionar Referencias &gt; Administrar\npaquetes NuGet...\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F27-RestApi.png\" alt=\"addPaquetesNuget\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EEn el administrador de paquetes en el apartado Examinar vamos a buscar el\npaquete \u003Cstrong\u003EEntityFramework\u003C\u002Fstrong\u003E y le damos instalar.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F28-RestApi.png\" alt=\"addPaquetesNuget1\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EAl momento de la instalación se mostraran una ventana de Aceptación de\nLincencia, le damos Aceptar para poder continuar.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F28-1-RestApi.png\" alt=\"addPaquetesNuget2\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ESe agregaran 2 referencia \u003Cstrong\u003EEntityFramework\u003C\u002Fstrong\u003E y \u003Cstrong\u003EEntityFramework.SqlServer\u003C\u002Fstrong\u003E.\nPuedes revisarlo en:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ELas referencias del proyecto.\u003C\u002Fli\u003E\n\u003Cli\u003EApartado instalado del Administrador de paquetes Nuget.\u003C\u002Fli\u003E\n\u003Cli\u003EEl paquete instalado muestra un icono en color verde.\u003C\u002Fli\u003E\n\u003Cli\u003EAl seleccionar el paquete en la parte derecha nos muestra la opción de\ndesinstalar.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F29-RestApi.png\" alt=\"addPaquetesNuget3\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EEn la sección de referencias del controlador vamos a eliminar la referencia\n\u003Cstrong\u003Eusing System.Net.Http\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F29-1-RestApi.png\" alt=\"addPaquetesNuget4\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"agregando-crud\"\u003EAgregando CRUD\u003C\u002Fh2\u003E\n\u003Cp\u003EEn este punto vamos a agregar el CRUD que ocupara nuestra API-REST.\u003C\u002Fp\u003E\n\u003Cp\u003ELa primera acción que vamos a crear es la de \u003Cstrong\u003EConsultar\u003C\u002Fstrong\u003E donde ocuparemos el\nmétodo \u003Cstrong\u003EGET\u003C\u002Fstrong\u003E, para ello agregaremos el siguiente código que realizara la\nconsulta de todos los registros de la tabla.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002FapiGet.png\" alt=\"apiGet\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: El nombre de la tabla Articulo que se ocupa en\n\u003Cstrong\u003E\u003Ccode\u003EIEnumerable&lt;Articulo&gt;\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E la podemos obtener consultando la referencia de\nnuestra conexión a la base de datos.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EPara retornar los valores filtrados por id deberiamos agregar el siguiente\ncódigo.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002FapiGetid.png\" alt=\"apiGetid\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETu código debería quedar de la siguiente forma.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F30-RestApi.png\" alt=\"crudConsulta\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ELa siguiente acción a realizar es para \u003Cstrong\u003ECrear\u003C\u002Fstrong\u003E un nuevo registro, en este caso\nvamos utilizar el método \u003Cstrong\u003EPOST\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002FapiPost.png\" alt=\"apiPost\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETu código debería quedar de la siguiente forma.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F31-RestApi.png\" alt=\"crudPOST\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ELa siguiente acción a realizar nos permitira \u003Cstrong\u003EActualizar\u003C\u002Fstrong\u003E nuestros registros,\nen este caso vamos utilizar el método \u003Cstrong\u003EPUT\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002FapiPut.png\" alt=\"apiPut\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: En caso de que te salga un error asegurate de tener agregada la\nreferencia \u003Cstrong\u003ESystem.Data.Entity\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003ETu código debería quedar de la siguiente forma.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F32-RestApi.png\" alt=\"crudPUT\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ELa siguiente acción a realizar nos permitira \u003Cstrong\u003EEliminar\u003C\u002Fstrong\u003E nuestros registros, en\neste caso vamos utilizar el método \u003Cstrong\u003EDelete\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002FapiDelete.png\" alt=\"apiDelete\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETu código debería quedar de la siguiente forma.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F33-RestApi.png\" alt=\"crudDelete\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EA continución ejecutaremos nuestra aplicación la cual nos abrira nuestro\nnavegador con la dirección de Localhost que nos mostrara la página principal de\nnuestra API-REST.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F34-RestApi.png\" alt=\"pagina\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EEn la página que se nos ha cargado, seleccionaremos el apartado API, aquí\npodemos visualizar los métodos activos en este caso el primero que se nos\nmuestra es el método GET.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F35-RestApi.png\" alt=\"paginaApi\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EPara poder probar que lo que hemos hecho esta funcionando vamos consultar todos\nlos registros de la tabla, en nuestro navegador debemos teclear despues de\n\u003Cstrong\u003Elocalhost:puerto\u002F\u003C\u002Fstrong\u003E \u003Cstrong\u003Eapi\u002Farticulo\u003C\u002Fstrong\u003E, quedando de la siguiente manera\n\u003Cstrong\u003Elocalhost\u002Fapi\u002Fusuarios\u003C\u002Fstrong\u003E, si todo esta bien se visualizaran todos los\nregistros de la tabla en formato XML.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F35-1-RestApi.png\" alt=\"testApi\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: En este ejemplo estamos ocupando la tabla Articulo tu tendras que\ncambiarla por las tablas que vas a ocupar ejemplo: api\u002Fusuarios, api\u002Ffacturas,\napi\u002Fclientes, etc\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003ELa salida de la información esta en formato XML para generarla en formato Json\ndebemos editar el archivo \u003Cstrong\u003EWebApiConfig.cs\u003C\u002Fstrong\u003E que se ubica en el proyecto\nprincipal WebAPI.\u003C\u002Fp\u003E\n\u003Cp\u003ETeclearemos el siguiente código que realizar la salida en formato Json y remueve\nla salida en formato XML.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002FformatJson.png\" alt=\"formatJson\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETu código debería quedar de la siguiente forma.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F35-2-RestApi.png\" alt=\"testApi\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ESi volvemos a realizar la consulta de todos los registros veremos que la salida\nserá en formato Json.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F35-3-RestApi.png\" alt=\"testApi\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"probando-api-rest-con-postman\"\u003EProbando API-REST con POSTMAN\u003C\u002Fh2\u003E\n\u003Cp\u003ELlegamos al final de esta publicación y en esta sección vamos a realizar la\nprueba final de nuestra API-REST.\u003C\u002Fp\u003E\n\u003Cp\u003ELo primero que debemos realizar es ejecutar POSTMAN que previamente deberias\ntener instalado, si aun no lo tienes instalado te dejo el\n\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fwww.postman.com\u002F\"\u003ELink\u003C\u002Fa\u003E para que te registres y descargues.\u003C\u002Fp\u003E\n\u003Ch3 id=\"método-get-todos-los-registros\"\u003EMÉTODO GET (Todos los registros)\u003C\u002Fh3\u003E\n\u003Cp\u003EPara probar nuestro método GET con POSTMAN deberiamos de realizar los siguientes\npasos:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ESeleccionamos el método \u003Cstrong\u003EGET\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003ETecleamos la \u003Cstrong\u003EURL\u003C\u002Fstrong\u003E de nuestra API, en mi caso sería:\n(\u003Ccode\u003Ehttps:\u002F\u002Flocalhost:44381\u002Fapi\u002Farticulo\u003C\u002Fcode\u003E).\u003C\u002Fli\u003E\n\u003Cli\u003EPresionamos el botón \u003Cstrong\u003ESEND\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003EEn la parte inferior \u003Cstrong\u003E(Body)\u003C\u002Fstrong\u003E se visualizan todos los registros de la\ntabla.\u003C\u002Fli\u003E\n\u003Cli\u003ESe nos indica el stado de nuestra consulta \u003Cstrong\u003EStatus: 200 ok\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F36-RestApi.png\" alt=\"testGET\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"método-post-agregar-un-nuevo-registro\"\u003EMÉTODO POST (Agregar un nuevo registro)\u003C\u002Fh3\u003E\n\u003Cp\u003EPara agregar nuevos registros en nuestra base de datos ocuparemos el método\nPOST.\u003C\u002Fp\u003E\n\u003Cp\u003ESiguiendo los pasos anteriores nos quedaria de la siguiente manera:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ESeleccionamos el método \u003Cstrong\u003EPOST\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003ETecleamos la \u003Cstrong\u003EURL\u003C\u002Fstrong\u003E de nuestra API, en mi caso sería:\n(\u003Ccode\u003Ehttps:\u002F\u002Flocalhost:44381\u002Fapi\u002Farticulo\u003C\u002Fcode\u003E).\u003C\u002Fli\u003E\n\u003Cli\u003EEn los parametros seleccionaremos \u003Cstrong\u003EBody &gt; raw &gt; Formato Json\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003ETecleremos los nuevos datos a agregar en formato Json\u003C\u002Fli\u003E\n\u003Cli\u003EPresionamos el botón \u003Cstrong\u003ESEND\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003EEn la parte inferior \u003Cstrong\u003E(Body)\u003C\u002Fstrong\u003E se visualizara el nuevo registros agregado a\nnuestra base de datos.\u003C\u002Fli\u003E\n\u003Cli\u003ESe nos indica el stado de nuestra consulta \u003Cstrong\u003EStatus: 200 ok\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F39-RestApi.png\" alt=\"testPOST\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"método-put-modificando-un-registro\"\u003EMÉTODO PUT (Modificando un registro)\u003C\u002Fh3\u003E\n\u003Cp\u003EPara modificar o actualizar nuestros registro en base de datos ocuparemos el\nmétodo PUT.\u003C\u002Fp\u003E\n\u003Cp\u003ESiguiendo los pasos anteriores para actualizar un registro desde Postman\nrealizaremos los siguientes pasos:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ESeleccionamos el método \u003Cstrong\u003EPUT\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003ETecleamos la \u003Cstrong\u003EURL\u003C\u002Fstrong\u003E de nuestra API, en mi caso sería:\n(\u003Ccode\u003Ehttps:\u002F\u002Flocalhost:44381\u002Fapi\u002Farticulo\u002F1\u003C\u002Fcode\u003E).\u003C\u002Fli\u003E\n\u003Cli\u003EEn los parametros seleccionaremos \u003Cstrong\u003EBody &gt; raw &gt; Formato Json\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003ETecleremos los datos a cambiar en formato Json\u003C\u002Fli\u003E\n\u003Cli\u003EPresionamos el botón \u003Cstrong\u003ESEND\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003EEn la parte inferior \u003Cstrong\u003E(Body)\u003C\u002Fstrong\u003E se visualizan los registros ya actualizados.\u003C\u002Fli\u003E\n\u003Cli\u003ESe nos indica el stado de nuestra consulta \u003Cstrong\u003EStatus: 200 ok\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F37-RestApi.png\" alt=\"testPUT\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"método-get-obtener-registros-filtrado-por-id\"\u003EMÉTODO GET (Obtener registros filtrado por id)\u003C\u002Fh3\u003E\n\u003Cp\u003ETambien se puede consultar los cambios volviendo a ejecutar un método GET ya sea\nel de obtener todo o bien el método de filtrado por id.\u003C\u002Fp\u003E\n\u003Cp\u003EPara ello podemos realizar los siguientes pasos:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ESeleccionamos el método \u003Cstrong\u003EGET\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003ETecleamos la \u003Cstrong\u003EURL\u003C\u002Fstrong\u003E de nuestra API y le agregamos al final el id de nuestro\narticulo, en mi caso sería \u003Ccode\u003Earticulo\u002F1\u003C\u002Fcode\u003E:\n(\u003Ccode\u003Ehttps:\u002F\u002Flocalhost:44381\u002Fapi\u002Farticulo\u002F1\u003C\u002Fcode\u003E).\u003C\u002Fli\u003E\n\u003Cli\u003EPresionamos el botón \u003Cstrong\u003ESEND\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003EEn la parte inferior \u003Cstrong\u003E(Body)\u003C\u002Fstrong\u003E se visualizara el registros de que\nseleccionado.\u003C\u002Fli\u003E\n\u003Cli\u003ESe nos indica el stado de nuestra consulta \u003Cstrong\u003EStatus: 200 ok\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F36-1-RestApi.png\" alt=\"testGET1\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"método-delete-eliminar-registros\"\u003EMÉTODO DELETE (Eliminar registros)\u003C\u002Fh3\u003E\n\u003Cp\u003EPara eliminar los registros de nuestra base de datos ocuparemos el método\nDelete. Siguiendo los pasos anteriores nos quedaria de la siguiente manera:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ESeleccionamos el método \u003Cstrong\u003EDELETE\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003ETecleamos la \u003Cstrong\u003EURL\u003C\u002Fstrong\u003E de nuestra API y le agregamos al final el id de nuestro\narticulo que deseamos eliminar, en mi caso sería \u003Ccode\u003Earticulo\u002F17\u003C\u002Fcode\u003E:\n(\u003Ccode\u003Ehttps:\u002F\u002Flocalhost:44381\u002Fapi\u002Farticulo\u002F17\u003C\u002Fcode\u003E).\u003C\u002Fli\u003E\n\u003Cli\u003EPresionamos el botón \u003Cstrong\u003ESEND\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003EEn la parte inferior \u003Cstrong\u003E(Body)\u003C\u002Fstrong\u003E se visualizara el registros eliminados.\u003C\u002Fli\u003E\n\u003Cli\u003ESe nos indica el stado de nuestra consulta \u003Cstrong\u003EStatus: 200 ok\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cimg src=\"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002F38-RestApi.png\" alt=\"testDelete\"\u003E\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENota: Recuerda que despues de utilizar los métodos POST, DELETE, PUT puedes\nocupar el método GET (Obtener Todos) ó el método GET(id) para consultar los\ncambios realizados.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch2 id=\"conclusiones\"\u003EConclusiones\u003C\u002Fh2\u003E\n\u003Cp\u003ECreo que este artículo se extendio pero era necesario, si realizaste el paso a\npaso no deberias de tener problemas y ahora tu API-REST puede ser utilizado en\ncualquier aplicación por el método HTTP.\u003C\u002Fp\u003E\n\u003Cp\u003ERecuerda que para este ejemplo ocupamos POSTMAN pero puedes ocupar cualquier\notra herramienta de testing para API REST tanto en versiones de escritorio como\nweb como por ejemplo: insomnia, Paw, Wizdler, etc, por nombrar algunas.\u003C\u002Fp\u003E\n\u003Cp\u003ESi te gustaria ver como publicar este proyecto en un servidor IISS o como\npodemos consumir nuestra API-REST desde un proyecto FrontEnd o algún otro tema\nque te gustaria ver dejame tu comentario con gusto lo leere y sacare un tiempo\npara responderte y escribirlo.\u003C\u002Fp\u003E\n\u003Cp\u003EPuedes descargar el proyecto desde mi repositorio en\n\u003Ca target=\"_blank\" rel=\"nofollow\" href=\"https:\u002F\u002Fgithub.com\u002Ferickmarcia\u002FCSHARP\u002Ftree\u002Fmain\u002FAPIREST\u002FWebApi\"\u003EGitHub\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E¡Listo para crear tu primera API-REST!\u003C\u002Fp\u003E\n",date:"2021-06-05T23:52:00.000+00:00",feature_image:"media\u002Fblog\u002FCSharp\u002FASP-NET\u002FRESTAPI\u002FBanner.jpg",excerpt:"",printDate:"June 5, 2021",printReadingTime:"13 min read"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.1df7a3ae.js"}catch(e){main="/client/legacy/client.5e34c012.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 